<table>
    <thead>
      <tr>
        <th>Tag</th>
        <th>Number of associated page(s)</th>
      </tr>
    </thead>
    <tbody>
      {% assign tags_sorted = site.data.tags.allowed-tags | sort_natural %}
      {% assign pages_sorted = site.pages | sort_natural %}
      {% for tag in tags_sorted %}
        {% assign counter = '0' %}
        {% for page in pages_sorted %}
          {% for page_tag in page.tags %}
            {% if tag == page_tag %}
              {% capture counter %}{{ counter | plus: '1' }}{% endcapture %}
            {% endif %}
          {% endfor %}
        {% endfor %}
        <tr>
          <td style="text-align: center"><a href="tag_{{ tag | remove: "/" }}">{{ tag }}</a></td>
          <td style="text-align: center">{{ counter }}</td>
        </tr>
      {% endfor %}
    </tbody>
</table>